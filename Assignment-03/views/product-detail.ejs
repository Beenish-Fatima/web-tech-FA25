<%- include('partials/header') %>

    <!-- Hero Section -->
    <section class="page-hero">
        <div class="container">
            <h1><%= product.name %></h1>
            <p><%= product.category %></p>
        </div>
    </section>

    <!-- Product Detail Section -->
    <section class="product-detail-section">
        <div class="container">
            <div class="product-detail-container">
                <div class="product-image-container">
                    <div class="main-image">
                        <img src="<%= product.image %>" alt="<%= product.name %>">
                    </div>
                </div>
                
                <div class="product-info-container">
                    <div class="product-header">
                        <div class="product-category"><%= product.category %></div>
                        <h1><%= product.name %></h1>
                        <div class="product-rating">
                            <div class="stars">
                                <% for(let i = 1; i <= 5; i++) { %>
                                    <% if(i <= Math.floor(product.rating)) { %>
                                        <i class="fas fa-star"></i>
                                    <% } else if(i === Math.ceil(product.rating) && !Number.isInteger(product.rating)) { %>
                                        <i class="fas fa-star-half-alt"></i>
                                    <% } else { %>
                                        <i class="far fa-star"></i>
                                    <% } %>
                                <% } %>
                            </div>
                            <span class="rating-value">(<%= product.rating %>/5)</span>
                        </div>
                    </div>
                    
                    <div class="product-price-section">
                        <div class="price">$<%= product.price.toFixed(2) %></div>
                        <% if(product.stock > 10) { %>
                            <div class="stock-status in-stock">
                                <i class="fas fa-check-circle"></i>
                                <%= product.stock %> items in stock
                            </div>
                        <% } else if(product.stock > 0) { %>
                            <div class="stock-status low-stock">
                                <i class="fas fa-exclamation-circle"></i>
                                <%= product.stock %> items in stock
                            </div>
                        <% } else { %>
                            <div class="stock-status out-of-stock">
                                <i class="fas fa-times-circle"></i>
                                Out of stock
                            </div>
                        <% } %>
                    </div>
                    
                    <div class="product-description">
                        <h3>Description</h3>
                        <p><%= product.description %></p>
                    </div>
                    
                    <div class="product-features">
                        <h3>Key Features</h3>
                        <ul>
                            <li><i class="fas fa-check"></i> High quality materials</li>
                            <li><i class="fas fa-check"></i> Excellent customer support</li>
                            <li><i class="fas fa-check"></i> 30-day money-back guarantee</li>
                            <li><i class="fas fa-check"></i> Free shipping on orders over $100</li>
                        </ul>
                    </div>
                    
                    <% if(product.stock > 0) { %>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <label for="quantity">Quantity:</label>
                            <input type="number" id="quantity" name="quantity" value="1" min="1" max="<%= product.stock %>">
                        </div>
                        <button class="btn btn-add-to-cart">
                            <i class="fas fa-shopping-cart"></i> Add to Cart
                        </button>
                        <button class="btn btn-wishlist">
                            <i class="far fa-heart"></i> Add to Wishlist
                        </button>
                    </div>
                    <% } else { %>
                    <div class="out-of-stock">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>Out of Stock</h3>
                        <p>This product is currently unavailable. Please check back later.</p>
                        <button class="btn">Notify Me When Available</button>
                    </div>
                    <% } %>
                </div>
            </div>
        </div>
    </section>

    <!-- Related Products -->
    <section class="related-products">
        <div class="container">
            <h2>Related Products</h2>
            <div class="view-more">
                <a href="/products?category=<%= product.category %>" class="btn">
                    View More in <%= product.category %>
                </a>
            </div>
        </div>
    </section>

<%- include('partials/footer') %>